{"ast":null,"code":"import _slicedToArray from\"/Users/blaise/Documents/GitHub/attendeeTracker/attendeeTracker/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{initializeApp}from\"firebase/app\";// import { getAuth, GoogleAuthProvider, connectAuthEmulator } from \"@firebase/auth\";\nimport{getDatabase,onValue,ref,set}from\"firebase/database\";import{currentOfficeId}from\"../screens-new/homescreen\";var firebaseConfig={apiKey:\"AIzaSyD9LFQW6v8muU7bdl4EE3fh0c-IdeELNUo\",authDomain:\"client-project-5de94.firebaseapp.com\",databaseURL:\"https://client-project-5de94-default-rtdb.firebaseio.com\",projectId:\"client-project-5de94\",storageBucket:\"client-project-5de94.appspot.com\",messagingSenderId:\"957126938870\",appId:\"1:957126938870:web:f0b21e3e40d5647acf9cd7\"};// Initialize Firebase\nvar firebase=initializeApp(firebaseConfig);var database=getDatabase(firebase);// export const auth = getAuth(firebase);\n// export const provider = new GoogleAuthProvider();\nexport var setData=function setData(path,value){return set(ref(database,path),value);};export var useDbData=function useDbData(path){var _useState=useState(),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];useEffect(function(){return onValue(ref(database,path),function(snapshot){setData(snapshot.val());},function(error){setError(error);});},[path]);return[data,error];};export var useApiData=function useApiData(locationId){var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];useEffect(function(){fetch('/api/reports/office/collaboratorsByOffice?Date=2023-05-17&LocationId='+locationId).then(function(response){// if (!response.ok) {\n//   throw new Error(\n//     `This is an HTTP error: The status is ${response.status}`\n//   );\n// }\nconsole.log(\"requerying API\");return response.json();}).then(function(actualData){setData(actualData);}).catch(function(err){setError(err);});},[currentOfficeId]);return[data,error];};","map":{"version":3,"names":["useEffect","useState","initializeApp","getDatabase","onValue","ref","set","currentOfficeId","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","database","setData","path","value","useDbData","_useState","_useState2","_slicedToArray","data","_useState3","_useState4","error","setError","snapshot","val","useApiData","locationId","_useState5","_useState6","_useState7","_useState8","fetch","then","response","console","log","json","actualData","catch","err"],"sources":["/Users/blaise/Documents/GitHub/attendeeTracker/attendeeTracker/src/utilities/firebase.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { initializeApp } from \"firebase/app\";\n// import { getAuth, GoogleAuthProvider, connectAuthEmulator } from \"@firebase/auth\";\nimport { getDatabase, onValue, ref, set } from \"firebase/database\";\nimport { currentOfficeId } from \"../screens-new/homescreen\";\n\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyD9LFQW6v8muU7bdl4EE3fh0c-IdeELNUo\",\n  authDomain: \"client-project-5de94.firebaseapp.com\",\n  databaseURL: \"https://client-project-5de94-default-rtdb.firebaseio.com\",\n  projectId: \"client-project-5de94\",\n  storageBucket: \"client-project-5de94.appspot.com\",\n  messagingSenderId: \"957126938870\",\n  appId: \"1:957126938870:web:f0b21e3e40d5647acf9cd7\"\n};\n\n\n// Initialize Firebase\nconst firebase = initializeApp(firebaseConfig);\nconst database = getDatabase(firebase);\n\n// export const auth = getAuth(firebase);\n// export const provider = new GoogleAuthProvider();\n\nexport const setData = (path, value) => (\n  set(ref(database, path), value)\n);\n\nexport const useDbData = (path) => {\n  const [data, setData] = useState();\n  const [error, setError] = useState(null);\n\n  useEffect(\n    () =>\n      onValue(\n        ref(database, path),\n        (snapshot) => {\n          setData(snapshot.val());\n        },\n        (error) => {\n          setError(error);\n        }\n      ),\n    [path]\n  );\n\n  return [data, error];\n};\n\nexport const useApiData = (locationId) => {\n  const [data, setData] = useState();\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    fetch('/api/reports/office/collaboratorsByOffice?Date=2023-05-17&LocationId=' + locationId)\n      .then((response) => {\n        // if (!response.ok) {\n        //   throw new Error(\n        //     `This is an HTTP error: The status is ${response.status}`\n        //   );\n        // }\n        console.log(\"requerying API\");\n        return response.json();\n      })\n      .then((actualData) => {\n        setData(actualData);\n      })\n      .catch((err) => {\n        setError(err);\n      });\n  }, [currentOfficeId]);\n\n  return [data, error];\n}\n"],"mappings":"oJAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,aAAa,KAAQ,cAAc,CAC5C;AACA,OAASC,WAAW,CAAEC,OAAO,CAAEC,GAAG,CAAEC,GAAG,KAAQ,mBAAmB,CAClE,OAASC,eAAe,KAAQ,2BAA2B,CAG3D,GAAM,CAAAC,cAAc,CAAG,CACrBC,MAAM,CAAE,yCAAyC,CACjDC,UAAU,CAAE,sCAAsC,CAClDC,WAAW,CAAE,0DAA0D,CACvEC,SAAS,CAAE,sBAAsB,CACjCC,aAAa,CAAE,kCAAkC,CACjDC,iBAAiB,CAAE,cAAc,CACjCC,KAAK,CAAE,2CACT,CAAC,CAGD;AACA,GAAM,CAAAC,QAAQ,CAAGd,aAAa,CAACM,cAAc,CAAC,CAC9C,GAAM,CAAAS,QAAQ,CAAGd,WAAW,CAACa,QAAQ,CAAC,CAEtC;AACA;AAEA,MAAO,IAAM,CAAAE,OAAO,CAAG,QAAV,CAAAA,OAAOA,CAAIC,IAAI,CAAEC,KAAK,QACjC,CAAAd,GAAG,CAACD,GAAG,CAACY,QAAQ,CAAEE,IAAI,CAAC,CAAEC,KAAK,CAAC,EAChC,CAED,MAAO,IAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAIF,IAAI,CAAK,CACjC,IAAAG,SAAA,CAAwBrB,QAAQ,CAAC,CAAC,CAAAsB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA3BG,IAAI,CAAAF,UAAA,IAAEL,OAAO,CAAAK,UAAA,IACpB,IAAAG,UAAA,CAA0BzB,QAAQ,CAAC,IAAI,CAAC,CAAA0B,UAAA,CAAAH,cAAA,CAAAE,UAAA,IAAjCE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IAEtB3B,SAAS,CACP,iBACE,CAAAI,OAAO,CACLC,GAAG,CAACY,QAAQ,CAAEE,IAAI,CAAC,CACnB,SAACW,QAAQ,CAAK,CACZZ,OAAO,CAACY,QAAQ,CAACC,GAAG,CAAC,CAAC,CAAC,CACzB,CAAC,CACD,SAACH,KAAK,CAAK,CACTC,QAAQ,CAACD,KAAK,CAAC,CACjB,CACF,CAAC,GACH,CAACT,IAAI,CACP,CAAC,CAED,MAAO,CAACM,IAAI,CAAEG,KAAK,CAAC,CACtB,CAAC,CAED,MAAO,IAAM,CAAAI,UAAU,CAAG,QAAb,CAAAA,UAAUA,CAAIC,UAAU,CAAK,CACxC,IAAAC,UAAA,CAAwBjC,QAAQ,CAAC,CAAC,CAAAkC,UAAA,CAAAX,cAAA,CAAAU,UAAA,IAA3BT,IAAI,CAAAU,UAAA,IAAEjB,OAAO,CAAAiB,UAAA,IACpB,IAAAC,UAAA,CAA0BnC,QAAQ,CAAC,IAAI,CAAC,CAAAoC,UAAA,CAAAb,cAAA,CAAAY,UAAA,IAAjCR,KAAK,CAAAS,UAAA,IAAER,QAAQ,CAAAQ,UAAA,IAEtBrC,SAAS,CAAC,UAAM,CACdsC,KAAK,CAAC,uEAAuE,CAAGL,UAAU,CAAC,CACxFM,IAAI,CAAC,SAACC,QAAQ,CAAK,CAClB;AACA;AACA;AACA;AACA;AACAC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC,CAC7B,MAAO,CAAAF,QAAQ,CAACG,IAAI,CAAC,CAAC,CACxB,CAAC,CAAC,CACDJ,IAAI,CAAC,SAACK,UAAU,CAAK,CACpB1B,OAAO,CAAC0B,UAAU,CAAC,CACrB,CAAC,CAAC,CACDC,KAAK,CAAC,SAACC,GAAG,CAAK,CACdjB,QAAQ,CAACiB,GAAG,CAAC,CACf,CAAC,CAAC,CACN,CAAC,CAAE,CAACvC,eAAe,CAAC,CAAC,CAErB,MAAO,CAACkB,IAAI,CAAEG,KAAK,CAAC,CACtB,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}