{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport { initializeApp } from \"firebase/app\";\n// import { getAuth, GoogleAuthProvider, connectAuthEmulator } from \"@firebase/auth\";\nimport { getDatabase, onValue, ref, set } from \"firebase/database\";\nimport { currentOfficeId } from \"../screens-new/homescreen\";\nconst firebaseConfig = {\n  apiKey: \"AIzaSyD9LFQW6v8muU7bdl4EE3fh0c-IdeELNUo\",\n  authDomain: \"client-project-5de94.firebaseapp.com\",\n  databaseURL: \"https://client-project-5de94-default-rtdb.firebaseio.com\",\n  projectId: \"client-project-5de94\",\n  storageBucket: \"client-project-5de94.appspot.com\",\n  messagingSenderId: \"957126938870\",\n  appId: \"1:957126938870:web:f0b21e3e40d5647acf9cd7\"\n};\n\n// Initialize Firebase\nconst firebase = initializeApp(firebaseConfig);\nconst database = getDatabase(firebase);\n\n// export const auth = getAuth(firebase);\n// export const provider = new GoogleAuthProvider();\n\nexport const setData = (path, value) => set(ref(database, path), value);\nexport const useDbData = path => {\n  _s();\n  const [data, setData] = useState();\n  const [error, setError] = useState(null);\n  useEffect(() => onValue(ref(database, path), snapshot => {\n    setData(snapshot.val());\n  }, error => {\n    setError(error);\n  }), [path]);\n  return [data, error];\n};\n_s(useDbData, \"Jd5EhhLMkMHytnmfCeaD/zwi1Q0=\");\nexport const useApiData = locationId => {\n  _s2();\n  const [data, setData] = useState();\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    fetch('/api/reports/office/collaboratorsByOffice?Date=2023-05-17&LocationId=' + locationId).then(response => {\n      // if (!response.ok) {\n      //   throw new Error(\n      //     `This is an HTTP error: The status is ${response.status}`\n      //   );\n      // }\n      console.log(\"requerying API\");\n      return response.json();\n    }).then(actualData => {\n      setData(actualData);\n    }).catch(err => {\n      setError(err);\n    });\n  }, [currentOfficeId]);\n  return [data, error];\n};\n_s2(useApiData, \"Jd5EhhLMkMHytnmfCeaD/zwi1Q0=\");","map":{"version":3,"names":["useEffect","useState","initializeApp","getDatabase","onValue","ref","set","currentOfficeId","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firebase","database","setData","path","value","useDbData","_s","data","error","setError","snapshot","val","useApiData","locationId","_s2","fetch","then","response","console","log","json","actualData","catch","err"],"sources":["/Users/blaise/Documents/GitHub/attendeeTracker/attendeeTracker/src/utilities/firebase.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { initializeApp } from \"firebase/app\";\n// import { getAuth, GoogleAuthProvider, connectAuthEmulator } from \"@firebase/auth\";\nimport { getDatabase, onValue, ref, set } from \"firebase/database\";\nimport { currentOfficeId } from \"../screens-new/homescreen\";\n\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyD9LFQW6v8muU7bdl4EE3fh0c-IdeELNUo\",\n  authDomain: \"client-project-5de94.firebaseapp.com\",\n  databaseURL: \"https://client-project-5de94-default-rtdb.firebaseio.com\",\n  projectId: \"client-project-5de94\",\n  storageBucket: \"client-project-5de94.appspot.com\",\n  messagingSenderId: \"957126938870\",\n  appId: \"1:957126938870:web:f0b21e3e40d5647acf9cd7\"\n};\n\n\n// Initialize Firebase\nconst firebase = initializeApp(firebaseConfig);\nconst database = getDatabase(firebase);\n\n// export const auth = getAuth(firebase);\n// export const provider = new GoogleAuthProvider();\n\nexport const setData = (path, value) => (\n  set(ref(database, path), value)\n);\n\nexport const useDbData = (path) => {\n  const [data, setData] = useState();\n  const [error, setError] = useState(null);\n\n  useEffect(\n    () =>\n      onValue(\n        ref(database, path),\n        (snapshot) => {\n          setData(snapshot.val());\n        },\n        (error) => {\n          setError(error);\n        }\n      ),\n    [path]\n  );\n\n  return [data, error];\n};\n\nexport const useApiData = (locationId) => {\n  const [data, setData] = useState();\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    fetch('/api/reports/office/collaboratorsByOffice?Date=2023-05-17&LocationId=' + locationId)\n      .then((response) => {\n        // if (!response.ok) {\n        //   throw new Error(\n        //     `This is an HTTP error: The status is ${response.status}`\n        //   );\n        // }\n        console.log(\"requerying API\");\n        return response.json();\n      })\n      .then((actualData) => {\n        setData(actualData);\n      })\n      .catch((err) => {\n        setError(err);\n      });\n  }, [currentOfficeId]);\n\n  return [data, error];\n}\n"],"mappings":";;AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,aAAa,QAAQ,cAAc;AAC5C;AACA,SAASC,WAAW,EAAEC,OAAO,EAAEC,GAAG,EAAEC,GAAG,QAAQ,mBAAmB;AAClE,SAASC,eAAe,QAAQ,2BAA2B;AAG3D,MAAMC,cAAc,GAAG;EACrBC,MAAM,EAAE,yCAAyC;EACjDC,UAAU,EAAE,sCAAsC;EAClDC,WAAW,EAAE,0DAA0D;EACvEC,SAAS,EAAE,sBAAsB;EACjCC,aAAa,EAAE,kCAAkC;EACjDC,iBAAiB,EAAE,cAAc;EACjCC,KAAK,EAAE;AACT,CAAC;;AAGD;AACA,MAAMC,QAAQ,GAAGd,aAAa,CAACM,cAAc,CAAC;AAC9C,MAAMS,QAAQ,GAAGd,WAAW,CAACa,QAAQ,CAAC;;AAEtC;AACA;;AAEA,OAAO,MAAME,OAAO,GAAGA,CAACC,IAAI,EAAEC,KAAK,KACjCd,GAAG,CAACD,GAAG,CAACY,QAAQ,EAAEE,IAAI,CAAC,EAAEC,KAAK,CAC/B;AAED,OAAO,MAAMC,SAAS,GAAIF,IAAI,IAAK;EAAAG,EAAA;EACjC,MAAM,CAACC,IAAI,EAAEL,OAAO,CAAC,GAAGjB,QAAQ,CAAC,CAAC;EAClC,MAAM,CAACuB,KAAK,EAAEC,QAAQ,CAAC,GAAGxB,QAAQ,CAAC,IAAI,CAAC;EAExCD,SAAS,CACP,MACEI,OAAO,CACLC,GAAG,CAACY,QAAQ,EAAEE,IAAI,CAAC,EAClBO,QAAQ,IAAK;IACZR,OAAO,CAACQ,QAAQ,CAACC,GAAG,CAAC,CAAC,CAAC;EACzB,CAAC,EACAH,KAAK,IAAK;IACTC,QAAQ,CAACD,KAAK,CAAC;EACjB,CACF,CAAC,EACH,CAACL,IAAI,CACP,CAAC;EAED,OAAO,CAACI,IAAI,EAAEC,KAAK,CAAC;AACtB,CAAC;AAACF,EAAA,CAnBWD,SAAS;AAqBtB,OAAO,MAAMO,UAAU,GAAIC,UAAU,IAAK;EAAAC,GAAA;EACxC,MAAM,CAACP,IAAI,EAAEL,OAAO,CAAC,GAAGjB,QAAQ,CAAC,CAAC;EAClC,MAAM,CAACuB,KAAK,EAAEC,QAAQ,CAAC,GAAGxB,QAAQ,CAAC,IAAI,CAAC;EAExCD,SAAS,CAAC,MAAM;IACd+B,KAAK,CAAC,uEAAuE,GAAGF,UAAU,CAAC,CACxFG,IAAI,CAAEC,QAAQ,IAAK;MAClB;MACA;MACA;MACA;MACA;MACAC,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAC;MAC7B,OAAOF,QAAQ,CAACG,IAAI,CAAC,CAAC;IACxB,CAAC,CAAC,CACDJ,IAAI,CAAEK,UAAU,IAAK;MACpBnB,OAAO,CAACmB,UAAU,CAAC;IACrB,CAAC,CAAC,CACDC,KAAK,CAAEC,GAAG,IAAK;MACdd,QAAQ,CAACc,GAAG,CAAC;IACf,CAAC,CAAC;EACN,CAAC,EAAE,CAAChC,eAAe,CAAC,CAAC;EAErB,OAAO,CAACgB,IAAI,EAAEC,KAAK,CAAC;AACtB,CAAC;AAAAM,GAAA,CAxBYF,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}